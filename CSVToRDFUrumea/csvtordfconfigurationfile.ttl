@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix schema: <http://schema.org/> .
@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix linkedgeodata: <http://linkedgeodata.org/page/ontology/> .
@prefix qb: <http://purl.org/linked-data/cube#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix lod: <http://donostia.eus/data/id/> .
@prefix lod-medicion: <http://donostia.eus/data/id/medicion-> .
@prefix purl-measure: <http://purl.org/linked-data/sdmx/2009/measure#> .
@prefix purl-attribute: <http://purl.org/linked-data/sdmx/2009/attribute#> .

#Se define por cada sujeto un bloque en el que se podrán anadir todos los 
#predicados y objetos necesarios
<#Urumea>
rml:logicalSource [
		rml:source "CSVToRDFUrumea/newdata/txominea.csv";
        rml:referenceFormulation ql:CSV
    ];
 		rr:subjectMap [
        rr:constant "http://donostia.eus/data/id/urumea";
        rr:class schema:RiverBodyOfWater;
    ];
    	rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
            rr:constant "Rio Urumea";
			rr:language "es";
        ]
        ]
        .
        
<#Observacion>
rml:logicalSource [
		rml:source "CSVToRDFUrumea/newdata/txominea.csv";
        rml:referenceFormulation ql:CSV
    	];
 		rr:subjectMap [
        rr:template "http://donostia.eus/data/id/urumea-txominenea-{eguna}-{horaParaUri}";
        rr:class qb:Observation;
    	];
    	rr:predicateObjectMap [
        rr:predicate dcterms:date;
        rr:objectMap [
            rml:reference "horafecha";
            rr:datatype xsd:dateTime;
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate lod:medicion;
        rr:objectMap [
            rr:constant "http://donostia.eus/data/id/riesgo";
            rr:termType rr:IRI;
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate lod:medicion;
        rr:objectMap [
            rr:constant "http://donostia.eus/data/id/nivel-agua";
            rr:termType rr:IRI;
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate "http://donostia.eus/data/id/rio-medicion";
        rr:objectMap [
		rr:parentTriplesMap <#Urumea>;
        ]
        ].
<#Riesgo>
rml:logicalSource [
		rml:source "CSVToRDFUrumea/newdata/txominea.csv";
        rml:referenceFormulation ql:CSV
    	];
 		rr:subjectMap [
        rr:template "http://donostia.eus/data/id/medicion-urumea-txominenea-riesgo-{eguna}-{horaParaUri}";
        rr:class lod-medicion:riesgo;
    	];                       
        rr:predicateObjectMap [
        rr:predicate purl-measure:obsValue;
        rr:objectMap [
            rml:reference "arriskua";
            rr:language "vq";
        ]
        ].       
<#NivelAgua>
rml:logicalSource [
		rml:source "CSVToRDFUrumea/newdata/txominea.csv";
        rml:referenceFormulation ql:CSV
    	];
 		rr:subjectMap [
        rr:template "http://donostia.eus/data/id/medicion-urumea-txominenea-nivel-agua-{eguna}-{horaParaUri}";
        rr:class lod-medicion:nivel-agua;
    	];
        rr:predicateObjectMap [
        rr:predicate purl-measure:obsValue;
        rr:objectMap [
            rml:reference "maila";
            rr:datatype xsd:float;
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate purl-attribute:unitMeasure;
        rr:objectMap [
            rr:constant "metros";
        ]
        ].