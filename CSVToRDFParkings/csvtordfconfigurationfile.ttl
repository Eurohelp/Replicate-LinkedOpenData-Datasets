#Se empiezan cargando los prefix que se usar?n en el RDF generado
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix schema: <http://schema.org/> .
@prefix lod: <http://donostia.eus/linkeddata/id/> .
@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix fare: <<http://donostia.eus/linkeddata/id/fare->.
@prefix w3-time: <http://www.w3.org/2006/>.

#Se define por cada sujeto un bloque en el que se podr?n anadir todos los 
#predicados y objetos necesarios
<#PrimerBloque>
rml:logicalSource [
	rml:source "CSVToRDFParkings/newdata/parkings.csv";
        rml:referenceFormulation ql:CSV
    ];
 	rr:subjectMap [
        rr:template "http://{Environment}/linkeddata/id/{Localizacion}/parking";
        rr:class schema:ParkingFacility;
        rr:class lod:parkingrotatorio
    ];
    rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
        rml:reference "Localizacion";
        ]
        ];
    rr:predicateObjectMap [
        rr:predicate geo:location;
        rr:objectMap [
            rr:parentTriplesMap <#Locali>
        ]
        ].
       
    <#Precio15Min>
	rml:logicalSource 
	[
	rml:source "CSVToRDFParkings/newdata/parkings.csv";
        rml:referenceFormulation ql:CSV
    ];
 	rr:subjectMap [
        rr:template "http://{Environment}/linkeddata/id/{Localizacion}/parking/{NombreParaURI}/15-min-{Precio15Min}";
		rr:class schema:PriceSpecification;
    ];
    
    rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
        rml:reference "Nombre";
        ]
        ];
    rr:predicateObjectMap [
        rr:predicate schema:price;
        rr:objectMap [
            rml:reference "Precio15Min";
 			rr:datatype xsd:float;
        ]
        ];
         rr:predicateObjectMap [
        rr:predicate schema:priceCurrency;
        rr:objectMap [
            rr:constant "EUR";
        ]
        ]; 
        rr:predicateObjectMap [
        rr:predicate w3-time:time;
        rr:objectMap [
            rr:constant "15";
            rr:datatype xsd:int;
        ]
        ].
    <#Precio30Min>
	rml:logicalSource 
	[
	rml:source "CSVToRDFParkings/newdata/parkings.csv";
        rml:referenceFormulation ql:CSV
    ];
 	rr:subjectMap [
        rr:template "http://{Environment}/linkeddata/id/{Localizacion}/parking/{NombreParaURI}/30-min-{Precio30Min}";
		rr:class schema:PriceSpecification;
    ];
      rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
        rml:reference "Nombre";
        ]
        ];
    rr:predicateObjectMap [
        rr:predicate schema:price;
        rr:objectMap [
            rml:reference "Precio30Min";
            rr:datatype xsd:float;
        ]
        ];
         rr:predicateObjectMap [
        rr:predicate schema:priceCurrency;
        rr:objectMap [
            rr:constant "EUR";
        ]
        ]; 
        rr:predicateObjectMap [
        rr:predicate w3-time:time;
        rr:objectMap [
            rr:constant "30";
            rr:datatype xsd:int;
        ]
        ].
         <#Precio60Min>
	rml:logicalSource 
	[
	rml:source "CSVToRDFParkings/newdata/parkings.csv";
        rml:referenceFormulation ql:CSV
    ];
 	rr:subjectMap [
        rr:template "http://{Environment}/linkeddata/id/{Localizacion}/parking/{NombreParaURI}/60-min-{Precio60Min}";
		rr:class schema:PriceSpecification;
    ];
      rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
        rml:reference "Nombre";
        ]
        ];
    rr:predicateObjectMap [
        rr:predicate schema:price;
        rr:objectMap [
            rml:reference "Precio60Min";
            rr:datatype xsd:float;
        ]
        ];
         rr:predicateObjectMap [
        rr:predicate schema:priceCurrency;
        rr:objectMap [
            rr:constant "EUR";
        ]
        ]; 
        rr:predicateObjectMap [
        rr:predicate w3-time:time;
        rr:objectMap [
            rr:constant "60";
            rr:datatype xsd:int;
        ]
        ].  
         <#Precio90Min>
	rml:logicalSource 
	[
	rml:source "CSVToRDFParkings/newdata/parkings.csv";
        rml:referenceFormulation ql:CSV
    ];
 	rr:subjectMap [
        rr:template "http://{Environment}/linkeddata/id/{Localizacion}/parking/{NombreParaURI}/90-min-{Precio90Min}";
		rr:class schema:PriceSpecification;
    ];
      rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
        rml:reference "Nombre";
        ]
        ];
    rr:predicateObjectMap [
        rr:predicate schema:price;
        rr:objectMap [
            rml:reference "Precio90Min";
            rr:datatype xsd:float;
        ]
        ];
         rr:predicateObjectMap [
        rr:predicate schema:priceCurrency;
        rr:objectMap [
            rr:constant "EUR";
        ]
        ]; 
        rr:predicateObjectMap [
        rr:predicate w3-time:time;
        rr:objectMap [
            rr:constant "90";
            rr:datatype xsd:int;
        ]
        ].
         <#Precio120Min>
	rml:logicalSource 
	[
	rml:source "CSVToRDFParkings/newdata/parkings.csv";
        rml:referenceFormulation ql:CSV
    ];
 	rr:subjectMap [
        rr:template "http://{Environment}/linkeddata/id/{Localizacion}/parking/{NombreParaURI}/120-min-{Precio120Min}";
		rr:class schema:PriceSpecification;
    ];
    rr:predicateObjectMap [
        rr:predicate schema:price;
        rr:objectMap [
            rml:reference "Precio120Min";
            rr:datatype xsd:float;
        ]
        ];
         rr:predicateObjectMap [
        rr:predicate schema:priceCurrency;
        rr:objectMap [
            rr:constant "EUR";
        ]
        ]; 
        rr:predicateObjectMap [
        rr:predicate w3-time:time;
        rr:objectMap [
            rr:constant "120";
            rr:datatype xsd:int;
        ]
        ].
    <#Precio180Min>
	rml:logicalSource 
	[
	rml:source "CSVToRDFParkings/newdata/parkings.csv";
        rml:referenceFormulation ql:CSV
    ];
 	rr:subjectMap [
        rr:template "http://{Environment}/linkeddata/id/{Localizacion}/parking/{NombreParaURI}/180-min-{Precio180Min}";
		rr:class schema:PriceSpecification;
    ];
      rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
        rml:reference "Nombre";
        ]
        ];
    rr:predicateObjectMap [
        rr:predicate schema:price;
        rr:objectMap [
            rml:reference "Precio180Min";
            rr:datatype xsd:float;
        ]
        ];
         rr:predicateObjectMap [
        rr:predicate schema:priceCurrency;
        rr:objectMap [
            rr:constant "EUR";
        ]
        ]; 
        rr:predicateObjectMap [
        rr:predicate w3-time:time;
        rr:objectMap [
            rr:constant "180";
            rr:datatype xsd:int;
        ]
        ].      
    <#Precio300Min>
	rml:logicalSource 
	[
	rml:source "CSVToRDFParkings/newdata/parkings.csv";
        rml:referenceFormulation ql:CSV
    ];
 	rr:subjectMap [
        rr:template "http://{Environment}/linkeddata/id/{Localizacion}/parking/{NombreParaURI}/300-min-{Precio300Min}";
		rr:class schema:PriceSpecification;
    ];
      rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
        rml:reference "Nombre";
        ]
        ];
    rr:predicateObjectMap [
        rr:predicate schema:price;
        rr:objectMap [
            rml:reference "Precio300Min";
            rr:datatype xsd:float;
        ]
        ];
         rr:predicateObjectMap [
        rr:predicate schema:priceCurrency;
        rr:objectMap [
            rr:constant "EUR";
        ]
        ]; 
        rr:predicateObjectMap [
        rr:predicate w3-time:time;
        rr:objectMap [
            rr:constant "300";
            rr:datatype xsd:int;
        ]
        ].

<#Locali>
	rml:logicalSource[
		rml:source "CSVToRDFParkings/newdata/parkings.csv";
        rml:referenceFormulation ql:CSV
    ];
    
 	rr:subjectMap [
        rr:template "http://{Environment}/linkeddata/id/{Localizacion}/parking/{NombreParaURI}";
		rr:class geo:location;
    ];
   
     
      rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
    	    rml:reference "Nombre";
     ]
	];
	 rr:predicateObjectMap [
        rr:predicate schema:offers;
        rr:objectMap [
            rr:parentTriplesMap <#Precio15Min>
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate schema:offers;
        rr:objectMap [
            rr:parentTriplesMap <#Precio30Min>
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate schema:offers;
        rr:objectMap [
            rr:parentTriplesMap <#Precio60Min>
        ]
        ];
          rr:predicateObjectMap [
        rr:predicate schema:offers;
        rr:objectMap [
            rr:parentTriplesMap <#Precio90Min>
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate schema:offers;
        rr:objectMap [
            rr:parentTriplesMap <#Precio120Min>
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate schema:offers;
        rr:objectMap [
            rr:parentTriplesMap <#Precio180Min>
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate schema:offers;
        rr:objectMap [
            rr:parentTriplesMap <#Precio300Min>
        ]
        ];
		
         rr:predicateObjectMap [
        rr:predicate geo:lat;
        rr:objectMap [
            rml:reference "Latitud";
            rr:datatype xsd:float;
        ]
        ];
         rr:predicateObjectMap [
        rr:predicate geo:long;
        rr:objectMap [
            rml:reference "Longitud";
            rr:datatype xsd:float;
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate lod:plazasresidentes;
        rr:objectMap [
            rml:reference "PlazasResidentes";
            rr:datatype xsd:int;
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate lod:plazasresidenteslibres;
        rr:objectMap [
            rml:reference "PlazasResidentesLibres";
            rr:datatype xsd:int;
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate lod:plazasrotatorias;
        rr:objectMap [
            rml:reference "PlazasRotatorias";
            rr:datatype xsd:int;
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate lod:plazasrotatoriaslibres;
        rr:objectMap [
            rml:reference "PlazasRotatoriasLibres";
            rr:datatype xsd:int;
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate lod:plazastotales;
        rr:objectMap [
            rml:reference "PlazasTotales";
            rr:datatype xsd:int;
        ]
        ];
        rr:predicateObjectMap [
        rr:predicate lod:parkingtype;
        rr:objectMap [
            rml:reference "Tipo";
            rr:datatype xsd:string;
        ]
        ].	
		
<#BloqueLocalizacion>
rml:logicalSource [
	rml:source "CSVToRDFParkings/newdata/parkings.csv";
        rml:referenceFormulation ql:CSV
    ];
 	rr:subjectMap [
        rr:template "http://{Environment}/linkeddata/id/{Localizacion}";
        rr:class schema:Place;
    ];
    rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [
        rr:constant "San Sebasti\u00e1n";
        ]
        ];
        
        rr:predicateObjectMap [
        rr:predicate geo:location;
        rr:objectMap [
            rr:parentTriplesMap <#Locali>
        ]
        ].